@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --font-sans: "Avenir Next", "Segoe UI Variable", "Segoe UI", sans-serif;
  --font-display: "Avenir Next Condensed", "Trebuchet MS", var(--font-sans);
  --bg-base: #0b1120;
  --bg-card: #121a2d;
  --bg-raised: #1a2540;
  --bg-header: #090f1a;
  --bg-soft: #0f1728;
  --bg-overlay: rgba(8, 10, 16, 0.72);
  --border: #273553;
  --border-subtle: #1e2941;
  --border-header: #1b2439;
  --gold: #c6972e;
  --gold-light: #dfba63;
  --text-on-accent: #151003;
  --text-primary: #ecf2ff;
  --text-secondary: #9aaacd;
  --text-muted: #7283a2;
  --danger: #e53e3e;
  --surface-strong: #10192b;
  --surface-strong-hover: #162139;
  --surface-strong-active: #1d2a47;
  --surface-strong-muted: #101a2f;
  --surface-strong-border: #28395e;
  --text-contrast: #f3f7ff;
  --text-dim: #b4c1dd;
  --text-faint: #8291af;
  --grid-line: rgba(214, 226, 255, 0.08);
  --shadow-card: 0 18px 40px rgba(2, 8, 18, 0.5);
  --shadow-soft: 0 8px 20px rgba(2, 8, 18, 0.3);
  --media-panel-bg: #0d1629;
  --media-panel-sheen: rgba(45, 62, 94, 0.34);
  --media-overlay-strong: rgba(10, 14, 24, 0.84);
  --media-overlay-mid: rgba(10, 14, 24, 0.58);
  --media-overlay-soft: rgba(10, 14, 24, 0.12);
  --media-text-primary: #f5f7ff;
  --media-text-secondary: #b7c3df;
  --media-control-bg: rgba(6, 10, 16, 0.62);
  --media-control-border: rgba(255, 255, 255, 0.28);
  --media-control-text: #f5f7ff;
  --media-control-hover-bg: rgba(6, 10, 16, 0.76);
  --media-control-hover-border: rgba(196, 162, 75, 0.62);
  --media-glow: 0 20px 48px rgba(5, 8, 15, 0.5);
  --image-edge-fade: rgba(18, 26, 45, 0.96);
  --new-note-glow:
    0 0 0 1px rgba(196, 162, 75, 0.32), 0 10px 24px rgba(196, 162, 75, 0.26),
    0 0 24px rgba(215, 186, 104, 0.24), inset 0 1px 0 rgba(255, 255, 255, 0.22);
  --new-note-glow-breathe:
    0 0 0 1px rgba(196, 162, 75, 0.34), 0 11px 25px rgba(196, 162, 75, 0.28),
    0 0 27px rgba(215, 186, 104, 0.27), inset 0 1px 0 rgba(255, 255, 255, 0.24);
  --new-note-glow-strong:
    0 0 0 1px rgba(215, 186, 104, 0.44), 0 14px 30px rgba(196, 162, 75, 0.34),
    0 0 34px rgba(215, 186, 104, 0.34), inset 0 1px 0 rgba(255, 255, 255, 0.28);
}

html.light,
html[data-theme="light"] {
  --bg-base: #f5ede0;
  --bg-card: #fdf7ee;
  --bg-raised: #f1e5d3;
  --bg-header: #f8efe2;
  --bg-soft: #ebdcc5;
  --bg-overlay: rgba(249, 242, 231, 0.9);
  --border: #cfba9b;
  --border-subtle: #ddccb2;
  --border-header: #d9c4a5;
  --gold: #c08a1e;
  --gold-light: #ddb253;
  --text-on-accent: #1a1207;
  --text-primary: #332415;
  --text-secondary: #503a21;
  --text-muted: #674e31;
  --danger: #c63f4f;
  --surface-strong: #fbf4e9;
  --surface-strong-hover: #f5ecd9;
  --surface-strong-active: #efdfc8;
  --surface-strong-muted: #f2e5d3;
  --surface-strong-border: #d4bf9f;
  --text-contrast: #312314;
  --text-dim: #6d573d;
  --text-faint: #8b7357;
  --grid-line: rgba(130, 101, 67, 0.15);
  --shadow-card: 0 14px 30px rgba(112, 82, 46, 0.11);
  --shadow-soft: 0 8px 18px rgba(112, 82, 46, 0.08);
  --media-panel-bg: #dcc8ab;
  --media-panel-sheen: rgba(150, 116, 74, 0.18);
  --media-overlay-strong: rgba(37, 25, 13, 0.68);
  --media-overlay-mid: rgba(37, 25, 13, 0.44);
  --media-overlay-soft: rgba(37, 25, 13, 0.06);
  --media-text-primary: #fff8ed;
  --media-text-secondary: #f1e3cf;
  --media-control-bg: rgba(252, 245, 235, 0.78);
  --media-control-border: rgba(176, 137, 84, 0.72);
  --media-control-text: #3a2a18;
  --media-control-hover-bg: rgba(252, 245, 235, 0.96);
  --media-control-hover-border: rgba(184, 135, 40, 0.52);
  --media-glow: 0 12px 28px rgba(112, 82, 46, 0.16);
  --image-edge-fade: rgba(253, 247, 238, 0);
  --new-note-glow:
    0 0 0 1px rgba(164, 125, 63, 0.3), 0 6px 14px rgba(164, 125, 63, 0.16),
    0 0 16px rgba(193, 156, 100, 0.18), inset 0 1px 0 rgba(255, 255, 255, 0.42);
  --new-note-glow-breathe:
    0 0 0 1px rgba(164, 125, 63, 0.33), 0 7px 16px rgba(164, 125, 63, 0.19),
    0 0 19px rgba(193, 156, 100, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.45);
  --new-note-glow-strong:
    0 0 0 1px rgba(164, 125, 63, 0.38), 0 9px 20px rgba(164, 125, 63, 0.22),
    0 0 24px rgba(193, 156, 100, 0.24), inset 0 1px 0 rgba(255, 255, 255, 0.5);
}

html {
  background-color: var(--bg-base);
  color: var(--text-primary);
  transition:
    background-color 0.3s ease,
    color 0.3s ease;
}

body {
  background-color: var(--bg-base);
  background-image:
    radial-gradient(circle at 8% -12%, rgba(196, 162, 75, 0.17), transparent 42%),
    radial-gradient(circle at 88% 4%, rgba(89, 122, 198, 0.14), transparent 44%),
    linear-gradient(180deg, rgba(14, 21, 38, 0.72) 0%, rgba(11, 17, 32, 0) 48%);
  background-attachment: fixed;
  color: var(--text-primary);
  font-family: var(--font-sans), "Segoe UI", sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  transition:
    background-color 0.3s ease,
    color 0.3s ease;
}

.dn-display {
  font-family: var(--font-display), var(--font-sans), "Segoe UI", sans-serif;
  letter-spacing: -0.012em;
}

html.light body,
html[data-theme="light"] body {
  background-image:
    radial-gradient(circle at 9% -10%, rgba(201, 153, 89, 0.22), transparent 38%),
    radial-gradient(circle at 88% 8%, rgba(183, 129, 95, 0.15), transparent 42%),
    radial-gradient(circle at 50% 116%, rgba(216, 189, 140, 0.22), transparent 48%),
    radial-gradient(circle at 32% 34%, rgba(147, 159, 112, 0.08), transparent 34%),
    linear-gradient(180deg, rgba(255, 249, 240, 0.84) 0%, rgba(245, 237, 224, 0) 44%);
  background-attachment: fixed;
}

.dn-new-note-soft-glow {
  box-shadow: var(--new-note-glow);
}

@keyframes dn-new-note-aura {
  0%,
  100% {
    box-shadow: var(--new-note-glow);
  }
  50% {
    box-shadow: var(--new-note-glow-breathe);
  }
}

.dn-new-note-animate {
  animation: dn-new-note-aura 6.4s cubic-bezier(0.4, 0, 0.2, 1) infinite;
}

@media (hover: hover) {
  .dn-new-note-soft-glow:hover {
    box-shadow: var(--new-note-glow-strong);
  }
}

/* Landing motion */
@keyframes dn-reveal-up {
  0% {
    opacity: 0;
    transform: translateY(20px) scale(0.985);
    filter: blur(8px);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
    filter: blur(0);
  }
}

@keyframes dn-line-reveal {
  0% {
    opacity: 0;
    transform: translateY(22px);
    filter: blur(10px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
    filter: blur(0);
  }
}

@keyframes dn-aurora-float-1 {
  0%,
  100% {
    transform: translate3d(0, 0, 0) scale(1);
    opacity: 0.07;
  }
  50% {
    transform: translate3d(24px, 16px, 0) scale(1.07);
    opacity: 0.1;
  }
}

@keyframes dn-aurora-float-2 {
  0%,
  100% {
    transform: translate3d(0, 0, 0) scale(1);
    opacity: 0.05;
  }
  50% {
    transform: translate3d(-20px, 22px, 0) scale(1.08);
    opacity: 0.09;
  }
}

@keyframes dn-aurora-float-3 {
  0%,
  100% {
    transform: translate3d(-50%, 0, 0) scale(1);
    opacity: 0.06;
  }
  50% {
    transform: translate3d(calc(-50% + 16px), -10px, 0) scale(1.06);
    opacity: 0.1;
  }
}

@keyframes dn-aurora-core {
  0%,
  100% {
    opacity: 0.05;
    transform: translate(-50%, -50%) scale(1);
  }
  50% {
    opacity: 0.1;
    transform: translate(-50%, -50%) scale(1.14);
  }
}

@keyframes dn-badge-sheen {
  0% {
    transform: translateX(-210%) skewX(-22deg);
    opacity: 0;
  }
  18% {
    opacity: 0.6;
  }
  48% {
    opacity: 0.25;
  }
  70% {
    transform: translateX(220%) skewX(-22deg);
    opacity: 0;
  }
  100% {
    transform: translateX(220%) skewX(-22deg);
    opacity: 0;
  }
}

@keyframes dn-dot-pulse {
  0%,
  100% {
    transform: scale(1);
    box-shadow: 0 0 10px rgba(201, 168, 76, 0.75);
  }
  50% {
    transform: scale(1.28);
    box-shadow: 0 0 18px rgba(251, 191, 36, 0.95);
  }
}

@keyframes dn-cta-breathe {
  0%,
  100% {
    box-shadow: 0 6px 20px rgba(201, 168, 76, 0.32);
  }
  50% {
    box-shadow: 0 12px 36px rgba(201, 168, 76, 0.48);
  }
}

@keyframes dn-ghost-glow {
  0%,
  100% {
    border-color: rgba(255, 255, 255, 0.2);
    box-shadow:
      inset 0 0 0 rgba(255, 255, 255, 0),
      0 0 0 rgba(0, 0, 0, 0);
  }
  50% {
    border-color: rgba(255, 255, 255, 0.32);
    box-shadow:
      inset 0 0 24px rgba(255, 255, 255, 0.03),
      0 0 24px rgba(113, 132, 180, 0.16);
  }
}

.dn-reveal {
  opacity: 0;
  animation: dn-reveal-up 0.86s cubic-bezier(0.16, 0.8, 0.24, 1) forwards;
  will-change: transform, opacity, filter;
}

.dn-delay-1 {
  animation-delay: 0.06s;
}

.dn-delay-3 {
  animation-delay: 0.26s;
}

.dn-delay-4 {
  animation-delay: 0.42s;
}

.dn-line-reveal {
  opacity: 0;
  animation: dn-line-reveal 0.86s cubic-bezier(0.16, 0.8, 0.24, 1) forwards;
}

.dn-line-1 {
  animation-delay: 0.12s;
}

.dn-line-2 {
  animation-delay: 0.2s;
}

.dn-line-3 {
  animation-delay: 0.28s;
}

.dn-line-4 {
  animation-delay: 0.36s;
}

.dn-line-5 {
  animation-delay: 0.44s;
}

.dn-aurora-float-1 {
  animation: dn-aurora-float-1 15s ease-in-out infinite;
}

.dn-aurora-float-2 {
  animation: dn-aurora-float-2 17s ease-in-out infinite;
}

.dn-aurora-float-3 {
  animation: dn-aurora-float-3 18s ease-in-out infinite;
}

.dn-aurora-core {
  animation: dn-aurora-core 9s ease-in-out infinite;
}

.dn-badge-sheen {
  overflow: hidden;
}

.dn-badge-sheen::after {
  content: "";
  pointer-events: none;
  position: absolute;
  top: -40%;
  bottom: -40%;
  left: 0;
  width: 34%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.28), transparent);
  animation: dn-badge-sheen 4.6s ease-in-out infinite;
}

.dn-dot-pulse {
  animation: dn-dot-pulse 2.1s ease-in-out infinite;
}

.dn-cta-gold {
  animation: dn-cta-breathe 4.6s ease-in-out infinite;
}

.dn-cta-ghost {
  animation: dn-ghost-glow 5.2s ease-in-out infinite;
}

@media (prefers-reduced-motion: reduce) {
  .dn-reveal,
  .dn-line-reveal,
  .dn-aurora-float-1,
  .dn-aurora-float-2,
  .dn-aurora-float-3,
  .dn-aurora-core,
  .dn-badge-sheen::after,
  .dn-dot-pulse,
  .dn-cta-gold,
  .dn-cta-ghost,
  .dn-new-note-animate {
    animation: none !important;
    opacity: 1 !important;
    transform: none !important;
    filter: none !important;
  }
}

/* ─── Custom Scrollbar ─── */
::-webkit-scrollbar {
  width: 4px;
  height: 4px;
}
::-webkit-scrollbar-track {
  background: var(--bg-base);
}
::-webkit-scrollbar-thumb {
  background: var(--border);
  border-radius: 4px;
}
::-webkit-scrollbar-thumb:hover {
  background: var(--gold);
}

/* ─── Scrollbar Hide Utility ─── */
.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}
.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

/* ─── React Quill — Slate Dark Theme ─── */
.ql-toolbar.ql-snow {
  background-color: var(--bg-raised) !important;
  border: 1px solid var(--border) !important;
  border-bottom: 1px solid var(--border-subtle) !important;
  border-radius: 8px 8px 0 0 !important;
  padding: 8px 12px !important;
}

.ql-toolbar.ql-snow .ql-stroke {
  stroke: var(--text-secondary) !important;
}
.ql-toolbar.ql-snow .ql-fill {
  fill: var(--text-secondary) !important;
}
.ql-toolbar.ql-snow button:hover .ql-stroke,
.ql-toolbar.ql-snow button.ql-active .ql-stroke {
  stroke: var(--gold) !important;
}
.ql-toolbar.ql-snow button:hover .ql-fill,
.ql-toolbar.ql-snow button.ql-active .ql-fill {
  fill: var(--gold) !important;
}
.ql-toolbar.ql-snow .ql-picker-label {
  color: var(--text-secondary) !important;
}
.ql-toolbar.ql-snow .ql-picker-options {
  background-color: var(--bg-raised) !important;
  border: 1px solid var(--border) !important;
}

.ql-container.ql-snow {
  background-color: var(--bg-card) !important;
  border: 1px solid var(--border) !important;
  border-top: none !important;
  border-radius: 0 0 8px 8px !important;
  color: var(--text-primary) !important;
  font-size: 1rem;
  min-height: 280px;
}

.ql-editor {
  color: var(--text-primary) !important;
  min-height: 260px;
  line-height: 1.75;
}

.ql-editor.ql-blank::before {
  color: var(--text-muted) !important;
  font-style: normal !important;
}

.ql-editor p {
  color: var(--text-primary);
}

.dn-compose-editor .ql-container.ql-snow {
  min-height: clamp(220px, 34vh, 330px);
}

.dn-compose-editor .ql-editor {
  min-height: clamp(190px, 30vh, 280px);
}

/* xl: editör max yükseklik — sayfa uzamaz, kart içi scroll */
@media (min-width: 1280px) {
  .dn-compose-editor .ql-editor {
    max-height: clamp(300px, calc(100dvh - 24rem), 720px);
    overflow-y: auto;
  }
}

/* ─── Form Select ─── */
select option {
  background-color: var(--bg-card);
  color: var(--text-primary);
}

@media (max-width: 640px) {
  :root {
    --shadow-card: 0 12px 28px rgba(2, 8, 18, 0.36);
    --shadow-soft: 0 6px 14px rgba(2, 8, 18, 0.24);
    --media-glow: 0 14px 30px rgba(5, 8, 15, 0.36);
  }

  html.light,
  html[data-theme="light"] {
    --shadow-card: 0 8px 18px rgba(98, 72, 40, 0.1);
    --shadow-soft: 0 4px 10px rgba(98, 72, 40, 0.07);
    --media-glow: 0 10px 20px rgba(98, 72, 40, 0.14);
  }

  body,
  html.light body,
  html[data-theme="light"] body {
    background-attachment: scroll;
  }

  .ql-toolbar.ql-snow {
    padding: 6px 8px !important;
  }

  .ql-container.ql-snow {
    min-height: 208px;
    font-size: 0.93rem;
  }

  .ql-editor {
    min-height: 188px;
    line-height: 1.65;
  }

  .dn-compose-editor .ql-container.ql-snow {
    min-height: clamp(180px, 30vh, 240px);
  }

  .dn-compose-editor .ql-editor {
    min-height: clamp(150px, 26vh, 200px);
  }
}
